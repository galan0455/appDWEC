<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>HTML5</title>
<style>
    .error{
        border : 2px solid red;
    }
    .visible{
        display: inline;
        color: red;
    }
    .oculto{
        display: none;
    }
</style>
    
<script>

    //Valida los errores coge las dos cajas y lo envia
    function validar() {
       let noHayerror=true;
        let CajaNombre = document.getElementById("nombre");
        let CajaClave = document.getElementById("clave");
        let CajaFecha2 = document.getElementById("fecha");
        quitarErrores();
        if (CajaNombre.value.trim().length < 3 ) {
            noHayerror=false;
            CajaNombre.className = "error"
            document.getElementById("errorNombre").className="visible"
        }
        if (CajaClave.value.trim().length < 3 ) {
            noHayerror=false;
            CajaClave.className = "error"
            CajaClave.insertAdjacentHTML("afterend","<span>Esrror</span>")
        }

        //Validacion de la fecha 
        if(!/^[0-9]{2} + [0-9]{2} + [0-9]{2}$/.test(CajaFecha2.value) ||
        !EsFechaValida(CajaFecha2.value));

        let radiosOpciones = doc.getEelmentByName
        let contador = 0;
        [...radiosOpciones].forEach((opcion)=>{
            if(contador == 0);
        })
       return noHayerror;
    }

    function EsFechaValida(fecha) {
        let dia = fecha.split("-")[0]
        let mes = fecha.split("-")[1]
        let year = fecha.split("-")[2]
        let fecha = new Date(year,mes,dia);
        if (dia==fecha.getDate() && mes==fecha.getMonth() && year == fecha.gedFullYear()) {
            return true;
        }else return false;
    }

    function esMayorDeEdad(fechaNacimiento){
        let dia = fecha.split("-")[0]
        let mes = fecha.split("-")[1]
        let year = fecha.split("-")[2]
        let fecha = new Date(year,mes,dia);
        fecha.setFullYear(fecha.gedFullYear()+18);
        let hoy = new Date();
        if (fecha < hoy) {
            return true
        }else return false
    }

    function  quitarErrores() {
        let listaElementos= [...document.querySelectorAll(".error,.visible")]
        let listaVisibles=listaElementos.className
        listaElementos.forEach((elemento)=>{
            if(elemento.className=="visible"){
                elemento.className="oculto"
            }else{
                elemento.className="";
            }
        })

    }
    onload=()=>{
        document.getElementsByTagName("button")[0].type="submit";
    }
</script>
</head>
<body>
<form method="POST" onsubmit=" return validar()" action="novale.php">
nombre:<input type="text" name="nombre" id="nombre">
<span class="oculto"id="errorNombre">Error : debe tener mas de dos caracteres </span><br>

clave:<input type="password" name="clave" id="clave"><br>
edad:<input type="number" name="edad" id="edad"><br>
edad2:<input type="text" name="edad2" id="edad2"><br>
fecha:<input type="date" name="fecha" id="fecha">
<span id="ErrorFecha" class="oculto"></span><br>
fecha2:<input type="text" placeholder="dd-mm-aaaa" name="fecha2" id="fecha2"><br>
ciudad:<input type="text" name="ciudad" id="ciudad"><br>
ciudad2:<select name="ciudad2" id="ciudad2">
<option>Escoge una ciudad</option>
<option>Madrid</option>
<option>Burgos</option>
<option>Valencia</option>
</select><br>
<div id="opciones">opciones:
opcion1<input type="radio" id="radio1" name="radio" value=1>
opcion2<input type="radio" id="radio2" name="radio" value=2>
opcion3<input type="radio" id="radio3" name="radio" value=3>
</div>
<br>
<button type="button">ENVIAR</button>
</form>
</body>
</html>